# Expert Review Instructions

## Overview

You are reviewing code generated by large language models (LLMs) for estimating the time-varying reproduction number (Rt) from epidemic data. Your task is to assess the **epidemiological and statistical correctness** of each submission, regardless of whether the code actually runs.

**Important**: You are blinded to which LLM generated the code and which programming condition was used. Please do not attempt to identify these.

## Reference Solution

The reference approach uses the **renewal equation** framework:

### Infection Process
$$I_t = R_t \sum_{s=1}^{S} I_{t-s} \cdot g_s$$

Where:
- $I_t$ = infections at time $t$
- $R_t$ = instantaneous reproduction number
- $g_s$ = generation interval PMF

### Observation Process
$$\mathbb{E}[C_t] = \alpha_t \sum_{d=0}^{D} I_{t-d} \cdot f_d$$

Where:
- $C_t$ = observed cases
- $\alpha_t$ = ascertainment rate
- $f_d$ = delay PMF

### Observation Model
$$C_t \sim \text{NegBin}(\mu = \mathbb{E}[C_t], \phi)$$

### Rt Smoothness
Acceptable approaches include:
- AR(1): $\log R_t = \rho \log R_{t-1} + \epsilon_t$
- Random walk: $\log R_t = \log R_{t-1} + \epsilon_t$
- Gaussian process
- Splines

## Assessment Process

For each submission, complete the following:

### 1. Method Identification (Scenario 1a only)

For Scenario 1a (open method), identify which approach was used:

| Method | Rating | Notes |
|--------|--------|-------|
| Renewal equation / Cori / EpiEstim | **Recommended** | Accurate, uses only past data |
| Wallinga-Teunis | **Acceptable** | Uses future data, underestimates at end |
| Bettencourt-Ribeiro / SIR-based | **Not recommended** | Assumes exponential generation interval |
| Naive ratio ($R_t = C_t / C_{t-1}$) | **Not acceptable** | Ignores generation interval |
| Other | Describe and assess | |

### 2. List Departures from Reference

Document each departure from the reference solution. A "departure" is any difference in approach, not necessarily an error.

Example departures:
- "Uses Poisson instead of Negative Binomial observation model"
- "No delay distribution between infection and reporting"
- "Generation interval hardcoded as 5 days without uncertainty"
- "Missing convolution in renewal equation"
- "Prior on Rt allows negative values"

### 3. Classify Each Departure

| Category | Definition | Examples |
|----------|------------|----------|
| **(A) Equivalent alternative** | Different but equally valid | GP instead of AR(1) for Rt smoothness; different parameterization of same distribution |
| **(B) Minor error** | Small mistake, unlikely to substantially affect results | Slightly off generation interval mean (e.g., 4 vs 5 days); missing day-of-week adjustment |
| **(C) Major error** | Significant mistake that would bias results | No delay convolution; Poisson instead of NegBin with overdispersed data; overly tight priors |
| **(D) Fundamental misunderstanding** | Indicates lack of understanding | Naive ratio method; negative Rt values possible; confusing Rt with growth rate |

### 4. Summary Assessment

Provide an overall assessment:

| Rating | Criteria |
|--------|----------|
| **Acceptable** | No C or D departures; would produce reasonable Rt estimates |
| **Minor issues** | Only A and B departures; results would be slightly suboptimal |
| **Major issues** | One or more C departures; results would be biased |
| **Incorrect** | One or more D departures; fundamental misunderstanding |

## Scoring Form

For each submission, record:

```
Submission ID: ___________
Scenario: ___________

1. METHOD (Scenario 1a only):
   [ ] Renewal equation / Cori / EpiEstim
   [ ] Wallinga-Teunis
   [ ] Bettencourt-Ribeiro / SIR-based
   [ ] Naive ratio
   [ ] Other: _________________

2. DEPARTURES:
   #1: _________________________________ Category: [ A / B / C / D ]
   #2: _________________________________ Category: [ A / B / C / D ]
   #3: _________________________________ Category: [ A / B / C / D ]
   (add more as needed)

3. DEPARTURE COUNTS:
   A (Equivalent): ___
   B (Minor): ___
   C (Major): ___
   D (Fundamental): ___

4. OVERALL ASSESSMENT:
   [ ] Acceptable
   [ ] Minor issues
   [ ] Major issues
   [ ] Incorrect

5. NOTES:
   _________________________________________
```

## Additional Criteria to Note

Please also note (yes/no) for each submission:

- **Uncertainty quantification**: Does the model provide credible/confidence intervals?
- **Appropriate parameters**: Are generation interval (~3-7 days) and delay (~2-7 days) reasonable for COVID-19?
- **Discretization handling**: Is continuous-to-discrete conversion handled appropriately?

## Scenario Descriptions

### Scenario 1a - Open Method
"Estimate the time-varying reproduction number (Rt) from daily case counts."
- Assess method choice as well as implementation

### Scenario 1b - Renewal Equation Specified
"Estimate Rt using the renewal equation framework."
- Method is specified; assess implementation only

### Scenario 2 - Complex Model
"Estimate Rt accounting for day-of-week effects, time-varying ascertainment, and negative binomial observation noise."
- Assess whether all components are present and correctly implemented

### Scenario 3 - Multiple Data Streams
"Joint model of cases, hospitalisations, and deaths with stream-specific delays and shared Rt."
- Assess multi-stream handling and shared parameter structure

## Notes for Reviewers

1. **Code that doesn't run can still be correct** - Focus on the approach, not syntax errors
2. **Use your epidemiological judgement** - Some departures are context-dependent
3. **Be consistent** - Try to apply the same standards across all submissions
4. **Document uncertainty** - If you're unsure about a classification, note it
5. **You may use LLMs to help** - But the final assessment is your responsibility

## Questions?

Contact the study coordinators if you have questions about specific cases.
